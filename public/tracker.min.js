(t=>{const{location:e,document:r,navigator:n}=t,{host:a,pathname:i}=e,{currentScript:o,referrer:c}=r,s=c!==a?c:"";if(!o||n.userAgent.indexOf("Electron")>0)return;const d=o.getAttribute.bind(o)("data-website-id"),g=new URL(o.src).origin+"/send";let h=!0,l=!0;const u=Number(localStorage.getItem("_vhLastVisitT"))||0,w=new Date,f=new Date(u);w.getFullYear()===f.getFullYear()&&w.getMonth()===f.getMonth()&&w.getDate()===f.getDate()&&(h=!1),Date.now()-f.getTime()<18e5?l=!1:localStorage.setItem("_vhLastVisitT",Date.now());const m=t=>{if(!t)return"";try{if(decodeURI(t)!==t)return decodeURI(t)}catch(e){return t}return encodeURI(t)};(async()=>{if(d)try{await fetch(g,{method:"POST",body:JSON.stringify({website:d,host:a,path:m(i),referrer:m(s),visitor:h,visit:l}),headers:{"Content-Type":"application/json"}})}catch(t){/* empty */}})()})(window);