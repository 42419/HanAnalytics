(e=>{const{location:t,document:n,navigator:r}=e,{hostname:a,pathname:i}=t,{currentScript:o,referrer:c}=n,s=c.includes(a)?"":c;if(!o||r.userAgent.indexOf("Electron")>0)return;const d=o.getAttribute.bind(o)("data-website-id"),g=new URL(o.src).origin+"/send";let h=!0,l=!0;const u=Number(localStorage.getItem("_vhLastVisitT"))||0,w=new Date,f=new Date(u);w.getFullYear()===f.getFullYear()&&w.getMonth()===f.getMonth()&&w.getDate()===f.getDate()&&(h=!1),Date.now()-f.getTime()<18e5?l=!1:localStorage.setItem("_vhLastVisitT",Date.now());const m=e=>{if(!e)return"";try{if(decodeURI(e)!==e)return decodeURI(e)}catch(t){return e}return encodeURI(e)};(async()=>{if(d)try{await fetch(g,{method:"POST",body:JSON.stringify({website:d,host:a,path:m(i),referrer:m(s),visitor:h,visit:l}),headers:{"Content-Type":"application/json"}})}catch(e){/* empty */}})()})(window);